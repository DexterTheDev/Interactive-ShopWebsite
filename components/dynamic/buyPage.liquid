<!DOCTYPE html>
<html>

<head>
    {% render 'partials/header.liquid', client: client, user: user %}
</head>

<body class="bg-primary-100 font-body text-white">
    {% render 'partials/navbar.liquid', client: client, user: user, icon: icon %}
    <div class="my-12 mx-5 md:w-9/12 md:mx-auto justify-center">
        <div class="bg-primary-300 rounded-lg shadow-md py-14 px-10">
            <p class="text-3xl text-center font-semibold">Checkout your order</p>
            <p class="text-center text-red-600" id="alert"></p>
            <hr class='border border-gray-500 mx-auto my-7 border-opacity-30 w-8/12'>
            <div class="mt-5">
                <p class="text-lg mb-2 text-gray-200 font-light">Contact</p>
                <input class="bg-transparent py-2 px-4 w-full md:w-1/3 border border-white outline-none" type="email"
                    placeholder="Email" id="email">
                <hr class='border border-gray-500 my-7 mx-auto border-opacity-30'>
                <p class="text-lg mb-2 text-gray-200 font-light">Delivery</p>
                <input class="m-1 bg-transparent py-2 px-4 w-full md:w-1/3 opacity-40 border border-white outline-none"
                    type="text" disabled value="Egypt">
                <div class="md:flex mt-1">
                    <input class="bg-transparent py-2 px-4 w-full md:w-1/3 border border-white outline-none m-1"
                        placeholder="First name" id="firstname">
                    <input class="bg-transparent py-2 px-4 w-full md:w-1/3 border border-white outline-none m-1"
                        placeholder="Last name" id="lastname">
                </div>
                <div>
                    <input class="bg-transparent py-2 px-4 w-full md:w-1/3 border border-white outline-none m-1"
                        placeholder="Address" id="address">
                    <input class="bg-transparent py-2 px-4 w-full md:w-1/3 border border-white outline-none m-1 md:m-0"
                        placeholder="City" id="city">
                </div>
                <div>
                    <select
                        class="bg-transparent py-2 px-4 w-full md:w-1/3 border text-lg border-white outline-none m-1"
                        id="governorate">
                        <option value="" class="bg-primary-200">Select Governorate</option>
                        <option value="Suez" class="bg-primary-200">Suez</option>
                        <option class="bg-primary-200" value="South Sinai">South Sinai</option>
                        <option class="bg-primary-200" value="Sohag">Sohag</option>
                        <option class="bg-primary-200" value="Red Sea">Red Sea</option>
                        <option class="bg-primary-200" value="Qalyubia">Qalyubia</option>
                        <option class="bg-primary-200" value="Port Said">Port Said</option>
                        <option class="bg-primary-200" value="North Sinai">North Sinai</option>
                        <option class="bg-primary-200" value="New Valley">New Valley</option>
                        <option class="bg-primary-200" value="Monufia">Monufia</option>
                        <option class="bg-primary-200" value="Minya">Minya</option>
                        <option class="bg-primary-200" value="Matrouh">Matrouh</option>
                        <option class="bg-primary-200" value="Luxor">Luxor</option>
                        <option class="bg-primary-200" value="Kafr el-Sheikh">Kafr el-Sheikh</option>
                        <option class="bg-primary-200" value="Ismallia">Ismallia</option>
                        <option class="bg-primary-200" value="Helwan">Helwan</option>
                        <option class="bg-primary-200" value="Giza">Giza</option>
                        <option class="bg-primary-200" value="Gharbia">Gharbia</option>
                        <option class="bg-primary-200" value="Fayoum">Fayoum</option>
                        <option class="bg-primary-200" value="Damietta">Damietta</option>
                        <option class="bg-primary-200" value="Dakahlia">Dakahlia</option>
                        <option class="bg-primary-200" value="Cairo">Cairo</option>
                        <option class="bg-primary-200" value="Beni Suef">Beni Suef</option>
                        <option class="bg-primary-200" value="Behera">Behera</option>
                        <option class="bg-primary-200" value="Asyut">Asyut</option>
                        <option class="bg-primary-200" value="Alexandria">Alexandria</option>
                        <option class="bg-primary-200" value="Al Sharquia">Al Sharquia</option>
                        <option class="bg-primary-200" value="6th of October">6th of October</option>
                    </select>
                    <input class="bg-transparent py-2 px-4 w-full md:w-1/3 border border-white outline-none m-1 md:m-0"
                        type="number" placeholder="Postal Code (Optional)" id="postal">
                </div>
            </div>
            <div class="flex w-full">
                <p class="text-md px-2 py-4 mr-1">+20</p>
                <input class="bg-transparent py-2 px-4 w-full md:w-[400px] border border-white outline-none m-1"
                    placeholder="Phone" type="number" min="11" max="11" id="phone">
            </div>
            <hr class='border border-gray-500 mx-auto my-7 border-opacity-30 w-8/12'>
            <p class="text-2xl font-semibold text-center">Shipping & Payments</p>
            <p class="text-2xl font-semibold mt-2">Apply Promo Code:</p>
            <p class="text-center text-red-600" id="promoAlert"></p>
            <div class="flex flex-col md:flex-row my-3 items-center">
                <input
                    class="bg-transparent py-2 px-4 w-full md:w-4/12 border border-white outline-none mb-2 md:mb-0 md:mr-3"
                    placeholder="Promo" id="promoCode">
                <a onclick="applyPromo()" id="applyPromo"
                    class="bg-transparent px-3 py-2 border border-gray-300 hover:bg-white hover:text-black duration-200 cursor-pointer text-center flex justify-center items-center w-full md:w-auto">Try
                    Promo&nbsp;<i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="bg-primary-100 mt-5 w-full md:w-5/12 rounded-lg shadow-md py-2 px-3">
                <div class="flex">
                    <p>Payment Method</p>
                    <p class="ml-auto">Cash on delivery (COD)</p>
                </div>
                <p class="text-sm font-light text-gray-300 py-2">Cash on Delivery is only available to customers in
                    egypt . Do not use this payment method if you are living outside this zone, as your order will
                    not be processed.</p>
            </div>
            {% for product in products %}
            <div class="bg-primary-100 mt-2 mb-2 mr-2 w-full md:w-5/12 rounded-lg shadow-md py-4 px-3">
            <div class="flex flex-col md:flex-row justify-start items-start md:items-center">
                <div class="flex-shrink-0 mx-auto md:mx-0">
                    <img src="/public/productImages/{{ product.image }}" class="w-32 rounded-lg mx-1">
                </div>
                <div class="ml-2 mt-2 md:mt-0">
                    <p class="text-lg font-semibold">{{ product.name }}</p>
                    <p class="font-light text-sm">Quantity: {{ product.quantity }}</p>
                    <p class="font-light text-sm">Size: {{ product.size }}</p>
                    <p class="font-light text-sm">
                        {% if product.isSale %}After Sale Price{% else %}Price{% endif%}: LE {{ product.price }} EGP
                    </p>
                </div>
            </div>
                <p class="text-sm font-light text-gray-300 py-2">{{ product.description }}</p>
            </div>
            {% endfor %}
            <div class="bg-primary-100 mt-2 w-full md:w-3/12 rounded-lg shadow-md py-2 px-3 flex">
                <p>Shipping</p>
                <p class="ml-auto">LE <b>{{ shipping }}</b> EGP</p>
            </div>
            <div class="bg-primary-100 mt-2 w-full md:w-3/12 rounded-lg shadow-md py-2 px-3 flex">
                <p>Total</p>
                <p class="ml-auto">LE <b id="total">{{ total }}</b> EGP</p>
            </div>
            <div id="discountBox" class="hidden opacity-0 bg-primary-100 mt-2 w-full md:w-2/12 text-sm rounded-lg shadow-md py-2 px-3 flex transition-opacity duration-300 ease-in-out">
                <p>Discount</p>
                <p class="ml-auto text-green-500">LE <b id="promoCodeAmount"></b> EGP</p>
            </div>
            {% if cart == true %}
            <button onclick="cartPurchase('cartCheckOut')"
                class="py-3 px-6 bg-transparent hover:bg-white hover:text-black duration-300 border border-white rounded-xl mt-8 w-full">
                Place Order</button>
            {% else %}
            <button onclick="purchase('{{ productID }}', '{{ quantity }}', '{{ size }}')"
                class="py-3 px-6 bg-transparent hover:bg-white hover:text-black duration-300 border border-white rounded-xl mt-8 w-full">
                Place Order</button>
            {% endif %}
        </div>
    </div>
    </div>
    <footer>
        {% render 'partials/footer.liquid' %}
        <script src="/public/scripts/buy.js"></script>
    </footer>
</body>

</html>