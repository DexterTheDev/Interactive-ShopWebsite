<!DOCTYPE html>
<html>

<head>
    {% render 'partials/header.liquid', client: client, user: user %}
</head>

<body class="bg-primary-100 font-body text-white">
    {% render 'partials/navbar.liquid', client: client, user: user, icon: icon %}
    <div class="my-14 w-9/12 mx-auto justify-center">
    <div class="md:flex">
            <div>
                <img id="mainImage" src="/public/productImages/{{ product.image }}" class="w-[800px] object-contain">
                <div class="mt-3 opacity-80 flex">
                    {% for img in product.images %}
                        <img onclick="changeImg('{{ img }}')" src="/public/productImages/{{ img }}" class="cursor-pointer hover:opacity-40 duration-300 w-[80px] object-contain border border-gray-300 border-opacity-50 m-1 mb-5">
                    {% endfor %}
                </div>
            </div>
            <div class="md:ml-24">
                <p class="text-5xl font-semibold">{{ product.name }}</p>
                <p class="text-red-600" id="alert"></p>
                                    {% if product.sale > 0 %}
                    <div class="flex mt-4">
                    <p class="font-semibold text-2xl text-gray-300 line-through">LE {{ product.price }}</p>
                    <p class="font-semibold text-2xl text-gray-300 ml-2">LE {{ product.sale }} EGP</p>
                    </div>
                    {% else %}
                    <p class="font-semibold text-2xl mt-4 text-gray-300">LE {{ product.price }} EGP</p>
                    {% endif %}
                <p class="text-sm text-gray-400"><b class="underline">Shipping</b> calculated at checkout.</p>
                <p class="text-sm text-gray-400 mt-4 mb-1">Select Size</p>
                <div class="sm:inline-flex mb-4">
                <button onclick="select('xs')" id="xs" class="rounded-2xl py-1 px-4 border-4 border-primary-300 bg-transparent middle shadow-2xl drop-shadow-lg m-1">
                    XS
                  </button>
                  <button
                  onclick="select('s')"
                  id="s"
                    class="rounded-2xl py-1 px-4 border-4 border-primary-300 bg-transparent middle shadow-2xl drop-shadow-lg m-1"
                  >
                    S
                  </button>
                  <button
                  onclick="select('m')"
                  id="m"
                    class="rounded-2xl py-1 px-4 border-4 border-primary-300 bg-transparent middle shadow-2xl drop-shadow-lg m-1"
                  >
                    M
                  </button>
                  <button
                  id="l"
                  onclick="select('l')"
                    class="rounded-2xl py-1 px-4 border-4 border-primary-300 bg-transparent middle shadow-2xl drop-shadow-lg m-1"
                  >
                    L
                  </button>
                  <button
                  id="xl"
                  onclick="select('xl')"
                    class="rounded-2xl py-1 px-4 border-4 border-primary-300 bg-transparent middle shadow-2xl drop-shadow-lg m-1"
                  >
                    XL
                    
                  </button>
                </div>
                <p class="text-sm text-gray-400 mb-1">Pick Quantity</p>
                    <div class="flex">
                        <button class="border py-1 px-2 border-gray-300 m-1" id="increment-btn">+</button>
                        <div class="border py-1 px-4 border-gray-300 m-1" id="counter-value">1</div>
                        <button class="border py-1 px-2 border-gray-300 m-1" id="decrement-btn">-</button>
                    </div>

                    <div class="mx-auto mt-4 mb-3">
                        <button onclick="buyNow('{{ product.id }}')" class="border py-3 px-2 border-gray-400 m-2 w-full hover:bg-white hover:text-black duration-300">Buy now</button>
                        <button id="cartBtn" onclick="addToCart('{{ product.id }}')" class="border py-3 px-2 border-gray-400 m-2 w-full hover:bg-white hover:text-black duration-300">Add to cart&nbsp;<i class="fas fa-cart-shopping"></i></button>
                    </div>

                    <p class="mt-5 font-light text-md m-2 max-w-96">{{ product.description }}</p>
            </div>
    </div>
    </div>
    <footer>
      {% render 'partials/footer.liquid' %}
        <script src="/public/scripts/product.js"></script>
    </footer>
</body>

</html>