<!DOCTYPE html>
<html>

<head>
    {% render 'partials/header.liquid', client: client, user: user %}
</head>

<body class="bg-primary-100 font-body text-white">
    {% render 'partials/navbar.liquid', client: client, user: user, icon: icon %}
    <div class="mb-44 mt-20 w-9/12 mx-auto justify-center">
        {% if access %}
        <div class="md:flex">
            <p class="text-2xl mb-6 font-semibold">Current listed products at the <b>Panel</b>:</p>
            <div class="ml-auto">
                <a href="/refuerzo/panel/products/add"
                    class="cursor-pointer text-lg hover:border-b border-white duration-300">Add Product&nbsp;<i
                        class="fa-solid fa-arrow-right"></i></a>
            </div>
        </div>
        <div class="md:flex flex-grow">
            {% for product in products %}
                <div class="shadow-md rounded-lg w-80 border border-primary-200 m-3">
                    <img src="/public/productImages/{{ product.image }}"
                        class="rounded-t-lg object-contain w-full h-80 bg-white bg-opacity-80 border-b border-gray-300 border-opacity-30" />
                    <div class="ml-6 my-4">
                        <p class="font-bold mt-2 text-2xl">{{ product.name }}</p>
                        <p class="font-semibold text-lg text-gray-200">LE {{ product.price }} EGP</p>
                    </div>
                    <button onclick="location.href='/products/{{ product.id }}'"
                        class="w-full bg-primary-200 py-3 font-semibold hover:opacity-80 duration-300">VIEW</button>
                        <button onclick="location.href='/refuerzo/panel/products/{{ product.id }}/modify'"
                        class="w-full bg-green-700 py-3 font-semibold hover:opacity-80 duration-300">Modify</button>
                        <button onclick="location.href='/refuerzo/panel/products/{{ product.id }}/delete'"
                        class="rounded-b-lg w-full bg-red-700 py-3 font-semibold hover:opacity-80 duration-300">Delete</button>
                </div>
        
                {% else %}
                <p class="text-lg mt-5 text-gray-400">There're no products currently listed</p>
                {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="mx-auto w-8/12 lg:w-5/12">
        <div
            class="shadow-lg border-dashed border border-gray-300 justify-center py-7 px-8 mt-20 lg:mt-32 mb-44 lg:mb-72 rounded-xl bg-primary-200">
            <p class="text-center">Welcome to <b>Refuerzo Sports Wear</b> Panel</p>
            <p class="hidden text-center text-red-700 pt-3" id="alert">Wrong password/Username</p>
            <hr class="border border-gray-500 border-opacity-20 w-full my-5" />
            <input id="username"
                class="border py-2 bg-transparent px-6 w-10/12 flex mx-auto outline-none text-gray-300 my-4"
                placeholder="Username" />
            <input type="password" id="password"
                class="border py-2 bg-transparent px-6 w-10/12 flex mx-auto outline-none text-gray-300 my-4"
                placeholder="Password" />
            <div class="flex">
                <a onclick="login()"
                    class="cursor-pointer text-gray-300 duration-200 font-bold hover:text-gray-400 mx-auto py-3 px-2 text-lg">Login</a>
            </div>
        </div>
    </div>
    {% endif %}
    </div>
    <footer>
        {% render 'partials/footer.liquid' %}
        <script src="/public/scripts/panel.js"></script>
    </footer>
</body>

</html>